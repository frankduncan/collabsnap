<blocks app="Snap! 4.0, http://snap.berkeley.edu" version="1"><block-definition s="topography-stage-width" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return world.children[0].stage.dimensions.x</l></block><list></list></block></block></script></block-definition><block-definition s="topography-stage-height" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return world.children[0].stage.dimensions.y</l></block><list></list></block></block></script></block-definition><block-definition s="topography-unit-x-position" type="reporter" category="motion"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="topography-stage-to-unit-x %n"><block s="xPosition"></block></custom-block></block></script></block-definition><block-definition s="topography-stage-to-unit-x %&apos;stage-x&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="reportQuotient"><block s="reportSum"><block var="stage-x"/><block s="reportQuotient"><custom-block s="topography-stage-width"></custom-block><l>2</l></block></block><custom-block s="topography-stage-width"></custom-block></block></block></script></block-definition><block-definition s="topography-unit-to-stage-x %&apos;unit-x&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="reportDifference"><block s="reportProduct"><block var="unit-x"/><custom-block s="topography-stage-width"></custom-block></block><block s="reportQuotient"><custom-block s="topography-stage-width"></custom-block><l>2</l></block></block></block></script></block-definition><block-definition s="topography-unit-y-position" type="reporter" category="motion"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="topography-stage-to-unit-y %n"><block s="yPosition"></block></custom-block></block></script></block-definition><block-definition s="topography-stage-to-unit-y %&apos;stage-y&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="reportQuotient"><block s="reportSum"><block var="stage-y"/><block s="reportQuotient"><custom-block s="topography-stage-height"></custom-block><l>2</l></block></block><custom-block s="topography-stage-height"></custom-block></block></block></script></block-definition><block-definition s="topography-unit-to-stage-y %&apos;unit-y&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%n"></input></inputs><script><block s="doReport"><block s="reportDifference"><block s="reportProduct"><block var="unit-y"/><custom-block s="topography-stage-height"></custom-block></block><block s="reportQuotient"><custom-block s="topography-stage-height"></custom-block><l>2</l></block></block></block></script></block-definition><block-definition s="collabsnap-id" type="reporter" category="variables"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>// We stick this on world because it&apos;s there and this is a prototype.&#xD;// We should change this in the future because world isn&apos;t under out control,&#xD;// and may change out from underneath us&#xD;if(world.collabsnapUniqueId == undefined) {&#xD;  // Ripped from http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript &#xD;  world.collabsnapUniqueId = &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(c) {&#xD;    var r = Math.random()*16|0, v = c == &apos;x&apos; ? r : (r&amp;0x3|0x8);&#xD;    return v.toString(16);&#xD;  });&#xD;}&#xD;&#xD;return world.collabsnapUniqueId;</l></block><list></list></block></block></script></block-definition><block-definition s="collabsnap-message-key %&apos;message&apos;" type="reporter" category="variables"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>msg</l></list><l>return msg.childNodes[0].childNodes[0].childNodes[0].nodeValue</l></block><list><block var="message"/></list></block></block></script></block-definition><block-definition s="collabsnap-message-value %&apos;message&apos;" type="reporter" category="variables"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>msg</l></list><l>return msg.childNodes[0].childNodes[1].childNodes[0].nodeValue</l></block><list><block var="message"/></list></block></block></script></block-definition><block-definition s="collabsnap-make-message %&apos;key&apos; %&apos;value&apos;" type="reporter" category="variables"><header></header><code></code><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>k</l><l>v</l></list><l>var xmlDoc = document.implementation.createDocument(null, "message");&#xD;&#xD;var keyNode = xmlDoc.createElement("key");&#xD;var keyText = xmlDoc.createTextNode(k);&#xD;keyNode.appendChild(keyText);&#xD;var valNode = xmlDoc.createElement("val");&#xD;var valText = xmlDoc.createTextNode(v);&#xD;valNode.appendChild(valText);&#xD;&#xD;xmlDoc.documentElement.appendChild(keyNode);&#xD;xmlDoc.documentElement.appendChild(valNode);&#xD;&#xD;return xmlDoc;</l></block><list><block var="key"/><block var="value"/></list></block></block></script></block-definition></blocks>